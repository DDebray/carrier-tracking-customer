<!DOCTYPE html><html lang="en"><head><title>vendor/segment-analytics</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="vendor/segment-analytics"><meta name="groc-project-path" content="assets/js/vendor/segment-analytics.js"><meta name="groc-github-url" content="https://github.com/zooron/carrier-tracking-customer"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/zooron/carrier-tracking-customer/blob/master/assets/js/vendor/segment-analytics.js">assets/js/vendor/segment-analytics.js</a></div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-pi">  'use strict'</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Create a queue, but don&#39;t obliterate an existing one!</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">var</span> analytics = <span class="hljs-built_in">window</span>.analytics = <span class="hljs-built_in">window</span>.analytics || [];</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If the snippet was invoked or initialized, return</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">if</span> (analytics.initialize || analytics.invoked) {
    <span class="hljs-keyword">return</span>;
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Invoked flag, to make sure the snippet
is never invoked twice.</p></div></div><div class="code"><div class="wrapper">  analytics.invoked = <span class="hljs-literal">true</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>A list of the methods in Analytics.js to stub.</p></div></div><div class="code"><div class="wrapper">  analytics.methods = [
    <span class="hljs-string">'trackSubmit'</span>,
    <span class="hljs-string">'trackClick'</span>,
    <span class="hljs-string">'trackLink'</span>,
    <span class="hljs-string">'trackForm'</span>,
    <span class="hljs-string">'pageview'</span>,
    <span class="hljs-string">'identify'</span>,
    <span class="hljs-string">'group'</span>,
    <span class="hljs-string">'track'</span>,
    <span class="hljs-string">'ready'</span>,
    <span class="hljs-string">'alias'</span>,
    <span class="hljs-string">'page'</span>,
    <span class="hljs-string">'once'</span>,
    <span class="hljs-string">'off'</span>,
    <span class="hljs-string">'on'</span>
  ];</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Define a factory to create stubs. These are placeholders
for methods in Analytics.js so that you never have to wait
for it to load to actually record data. The <code>method</code> is
stored as the first argument, so we can replay the data.</p></div></div><div class="code"><div class="wrapper">  analytics.factory = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method</span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);
      args.unshift(method);
      analytics.push(args);
      <span class="hljs-keyword">return</span> analytics;
    };
  };</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>For each of our methods, generate a queueing stub.</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; analytics.methods.length; i++) {
    <span class="hljs-keyword">var</span> key = analytics.methods[i];
    analytics[key] = analytics.factory(key);
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Define a method to load Analytics.js from our CDN,
and that will be sure to only ever load it once.</p></div></div><div class="code"><div class="wrapper">  analytics.load = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>)</span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Create an async script element based on your key.</p></div></div><div class="code"><div class="wrapper">    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
    script.type = <span class="hljs-string">'text/javascript'</span>;
    script.async = <span class="hljs-literal">true</span>;
    script.src = (<span class="hljs-string">'https:'</span> === <span class="hljs-built_in">document</span>.location.protocol ? <span class="hljs-string">'https://'</span> : <span class="hljs-string">'http://'</span>) +
      <span class="hljs-string">'cdn.segment.com/analytics.js/v1/'</span>+ key + <span class="hljs-string">'/analytics.min.js'</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Insert our script next to the first script element.</p></div></div><div class="code"><div class="wrapper">    <span class="hljs-keyword">var</span> first = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'script'</span>)[<span class="hljs-number">0</span>];
    first.parentNode.insertBefore(script, first);
  };</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Add a version to keep track of what&#39;s in the wild.</p></div></div><div class="code"><div class="wrapper">  analytics.SNIPPET_VERSION = <span class="hljs-string">'3.0.1'</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>The following has been added by Coureon</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.analyticsCallback) {
    <span class="hljs-built_in">window</span>.analyticsCallback(analytics);
  }
})();</div></div></div></div></body></html>