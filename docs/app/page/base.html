<!DOCTYPE html><html lang="en"><head><title>app/page/base</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../"><meta name="groc-document-path" content="app/page/base"><meta name="groc-project-path" content="assets/js/app/page/base.js"><meta name="groc-github-url" content="https://github.com/zooron/carrier-tracking-customer"><link rel="stylesheet" type="text/css" media="all" href="../../assets/style.css"><script type="text/javascript" src="../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/zooron/carrier-tracking-customer/blob/master/assets/js/app/page/base.js">assets/js/app/page/base.js</a></div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-built_in">module</span>.exports = [
  <span class="hljs-string">'$rootScope'</span>, <span class="hljs-string">'$location'</span>, <span class="hljs-string">'$route'</span>, <span class="hljs-string">'$translate'</span>, <span class="hljs-string">'$filter'</span>, <span class="hljs-string">'CommonUi'</span>, <span class="hljs-string">'CommonConfig'</span>, <span class="hljs-string">'CommonTracking'</span>,
<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">
  $rootScope, $location, $route, $translate, $filter, CommonUi, CommonConfig, CommonTracking
</span>) </span>{
<span class="hljs-pi">  'use strict'</span>;
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;

  self.viewLocked = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> !!CommonUi.modal.template;
  };

  CommonTracking.init();

  $rootScope.$on(<span class="hljs-string">'$locationChangeSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> ($route &amp;&amp; $route.current &amp;&amp; $route.current.originalPath) {
      CommonTracking.addEvent(<span class="hljs-string">'page'</span>, $route.current.originalPath);
    }
  });

  self.printReturnLabel = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">trackingId</span>) </span>{
    CommonTracking.addEvent(<span class="hljs-string">'track'</span>, <span class="hljs-string">'print-return-label-button was clicked.'</span> );
    <span class="hljs-keyword">if</span> (trackingId) {
      $location.path(<span class="hljs-string">'/printing/'</span> + trackingId);
    }
  };

  self.printLabel = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    CommonTracking.addEvent(<span class="hljs-string">'track'</span>, <span class="hljs-string">'print-label-button was clicked.'</span> );
  };

  self.banner = {
    title : $filter(<span class="hljs-string">'translate'</span>)(<span class="hljs-string">'SECTION.FOOTER.TITLE'</span>),
    subtitle : $filter(<span class="hljs-string">'translate'</span>)(<span class="hljs-string">'SECTION.FOOTER.SUBTITLE'</span>)
  };

  self.env = CommonConfig.environment();
}];</div></div></div></div></body></html>