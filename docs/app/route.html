<!DOCTYPE html><html lang="en"><head><title>app/route</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="app/route"><meta name="groc-project-path" content="assets/js/app/route.js"><meta name="groc-github-url" content="https://github.com/zooron/carrier-tracking-customer"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/zooron/carrier-tracking-customer/blob/master/assets/js/app/route.js">assets/js/app/route.js</a></div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-built_in">module</span>.exports = [<span class="hljs-string">'$routeProvider'</span>, <span class="hljs-string">'$locationProvider'</span>, <span class="hljs-string">'$httpProvider'</span>, <span class="hljs-string">'CommonConfigProvider'</span>, <span class="hljs-string">'CommonUiProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$routeProvider, $locationProvider, $httpProvider, CommonConfig, CommonUi</span>) </span>{
<span class="hljs-pi">  'use strict'</span>;

  <span class="hljs-keyword">var</span> needsToBeLoggedIn = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">var</span> independentPageResolver = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    needsToBeLoggedIn = <span class="hljs-literal">false</span>;
  };

  $httpProvider.defaults.withCredentials = <span class="hljs-literal">false</span>;
  $httpProvider.interceptors.push([<span class="hljs-string">'$q'</span>, <span class="hljs-string">'$location'</span>, <span class="hljs-string">'$translate'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$q, $location, $translate</span>) </span>{
    <span class="hljs-keyword">return</span> {
      request : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">config</span>) </span>{
        CommonUi.busy = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> config;
      },
      requestError : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rejection</span>) </span>{
        <span class="hljs-keyword">return</span> $q.reject(rejection);
      },
      response : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        CommonUi.busy = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> response;
      }
    };
  }]);

  $locationProvider.html5Mode(<span class="hljs-literal">true</span>);

  $routeProvider
    .when(<span class="hljs-string">'/'</span>, {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>the controller is set in the index.html template,
as it needs to exists side by side with the routing controllers</p></div></div><div class="code"><div class="wrapper">      templateUrl : <span class="hljs-string">'views/landingpage.html'</span>,
      resolve : independentPageResolver,
    })
    .when(<span class="hljs-string">'/tracking/:trackingId'</span>, {
      controller : <span class="hljs-string">'PageTrackingCtrl as tracking'</span>,
      templateUrl : <span class="hljs-string">'views/tracking.html'</span>,
      resolve : independentPageResolver,
    })
    .when(<span class="hljs-string">'/printing/:trackingId'</span>, {
      controller : <span class="hljs-string">'PagePrintingCtrl as printing'</span>,
      templateUrl : <span class="hljs-string">'views/printing.html'</span>,
      resolve : independentPageResolver,
    })
    .otherwise({
      redirectTo : <span class="hljs-string">'/'</span>
    });
}];</div></div></div></div></body></html>